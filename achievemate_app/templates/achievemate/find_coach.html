<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AchieveMate</title>
    <!-- bootstrap css -->
    <link rel="stylesheet" href="{% static 'assets/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/shortcode.css' %}">
    <!-- owl.carousel -->
    <link rel="stylesheet" href="{% static 'assets/css/owl.carousel.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/styles.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/responsive.css' %}">
    <!-- remixicon css -->
    <link rel="stylesheet" href="{% static 'assets/css/remixicon.css' %}">
</head>

<body>
    <!-- main-page Start  -->
    <div class="main-page">
        <!-- header Start -->
        <header class="header">
            <!-- topbar -->
            <div class="topbar">
                <div class="container">
                    <div class="row">
                        <div class="col-12">
                            <!-- topbar-content -->
                            <div class="topbar-content">
                                <!-- mail-wrap  -->
                                <div class="mail-wrap">
                                    <a href="mailto:help@achieveMate.com" class="text-white"><i
                                            class="ri-mail-check-fill me-1"></i>help@achieveMate.com</a>
                                </div>
                                <!-- logo -->
                                <div class="navbar-brand">
                                    <a class="logo" href="{% url 'index' %}"><img src="{% static 'assets/img/logo.svg' %}" alt="logo" /></a>
                                </div>
                                <!-- auth-btn-group -->
                                <!-- user-login-wrap Start-->
                                <div class="auth-btn-group user-login-wrap">
                                    <ul>
                                        <li>
                                            <!-- User -->
                                            <span class="header-user">
                                                <div class="user-img">
                                                    <img src="{% static 'assets/img/user.png' %}" alt="img/user" />
                                                </div>
                                                <span class="user-name">{% if user.is_authenticated %}{{user.username}}{% endif %}</span>
                                            </span>
                                        </li>
                                        <li class="header-logout-btn">
                                            <!-- Logout -->
                                            <a href="{% url 'logout' %}" class="btn">
                                                <span class="auth-icon"><i class="ri-logout-box-r-line"></i></span>
                                                {% if user.is_authenticated %}
                                                <span class="auth-text"> Logout</span>
                                                {% endif %}
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                                <!-- user-login-wrap END-->
                                <!-- auth-btn-group -->

                                <!-- add d-none and d-block class for hide show -->
                                <!-- user-without-login-wrap Start-->
                                <div class="auth-btn-group user-without-login d-none">
                                    <ul>
                                        <li>
                                            <a href="#" class="btn" data-bs-toggle="modal" data-bs-target="#UserLogin">
                                                <span class="auth-icon"><i class="ri-login-circle-line"></i></span>
                                                <span class="auth-text"> Login</span>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#" class="btn btn-mcolor" data-bs-toggle="modal"
                                                data-bs-target="#UserSignUp">
                                                <span class="auth-icon"><i class="ri-user-add-line"></i></span>
                                                <span class="auth-text">Sign Up</span>
                                            </a>
                                        </li>
                                    </ul>
                                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup"
                                        aria-expanded="false" aria-label="Toggle navigation">
                                        <i class="ri-menu-2-line"></i>
                                    </button>
                                </div>
                                <!-- user-without-login-wrap END-->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- header END -->

        <!-- full-height-section  Start-->
        <section class="full-height-section">
            <!-- pattern-one -->
            <img src="{% static 'assets/img/pattern-one.svg' %}" class="section-shape bottom-left" alt="img/pattern-one">
            <!-- pattern-two  -->
            <img src="{% static 'assets/img/pattern-two.svg' %}" class="section-shape top-right" alt="img/pattern-two">
            <div class="container position-relative">
                <div class="row mb-3">
                    <div class="col-md-10 col-lg-8 col-xl-6 col-xxl-5 m-auto">
                        <div class="row g-4 g-xl-5">
                            <div class="col-md-12">
                                <!-- find-coach-ques Start  -->
                                <div class="find-coach-ques">
                                    <!-- Form  -->
                                    <form id="question-form" method="post">
                                        {% csrf_token %}
                                        <div class="ques-loop">
                                            {% for question in questions %}
                                            <div class="question {% if forloop.first %}active{% endif %}" id="question{{ forloop.counter }}">
                                                <div class="row">
                                                    <div class="col-12">
                                                        <!-- ques -->
                                                        <div class="ques">
                                                            <p>{{ forloop.counter }}. {{ question.question }}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-12">
                                                        <div class="form-group">
                                                            <textarea name="answer_{{ question.id }}" class="form-control" rows="5" placeholder=""  required></textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            {% endfor %}
                                        </div>
                                    </div>
                                    <!-- find-coach-ques END  -->
                                    <div class="find-coach-footer">
                                        <!-- find-coach-footer-action -->
                                        <div class="find-coach-footer-action">
                                            <!-- page  -->
                                            <span class="page">
                                                <span class="current-page">1</span>/
                                                <span class="total-page">6</span>
                                            </span>
                                            <!-- find-coach-footer-action-btn -->
                                            <div class="find-coach-footer-action-btn">
                                                <button type="button" class="btn btn-mcolor icon-btn" id="prev-btn"><i class="ri-arrow-up-s-line"></i></button>
                                                <button type="button" class="btn btn-mcolor icon-btn" id="next-btn"><i class="ri-arrow-down-s-line"></i></button>
                                            </div>
                                            <button type="submit" class="btn btn-mcolor" id="done-btn">Done</button>
                                        </div>
                                    </div>
                                </form>                                                             
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- full-height-section END  -->

    </div>
    <!-- main-page END  -->
    
</body>
<!-- script -->
<script src="{% static 'assets/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'assets/js/jquery.min.js' %}"></script>
<!-- owl.carousel -->
<script src="{% static 'assets/js/owl.carousel.min.js' %}"></script>
<script src="{% static 'assets/js/script.js' %}"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const questions = document.querySelectorAll('.question');
        let currentQuestionIndex = 0;
        const currentPageSpan = document.querySelector('.current-page');
        const totalPageSpan = document.querySelector('.total-page');
        const doneButton = document.getElementById('done-btn');

        function showQuestion(index) {
            questions.forEach((question, idx) => {
                if (idx === index) {
                    question.style.display = 'block';
                } else {
                    question.style.display = 'none';
                }
            });
            currentPageSpan.textContent = index + 1; // Update current page number

            // Show/hide done button based on current question index
            if (index === questions.length - 1) {
                doneButton.style.display = 'block';
            } else {
                doneButton.style.display = 'none';
            }
        }

        document.getElementById('prev-btn').addEventListener('click', function() {
            currentQuestionIndex = Math.max(0, currentQuestionIndex - 1);
            showQuestion(currentQuestionIndex);
        });
        document.getElementById('next-btn').addEventListener('click', function() {
            currentQuestionIndex = Math.min(questions.length - 1, currentQuestionIndex + 1);
            showQuestion(currentQuestionIndex);
        });
        totalPageSpan.textContent = questions.length; // Update total page number
        showQuestion(currentQuestionIndex); // Initially show the first question
    });
</script>
</html>